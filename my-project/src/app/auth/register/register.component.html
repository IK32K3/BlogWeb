<app-navbar-introduce></app-navbar-introduce>
<div class="bg-gray-300 flex flex-col items-center justify-center min-h-screen">
    <div id="navbar-introduce" class="w-full fixed top-0"></div>
  
    <div class="py-8 px-4 sm:px-6 text-center lg:px-8">
      <div class="max-w-4xl mx-auto">
        <h1 class="text-4xl font-bold text-center mb-4">Join MyBlog</h1>
        <p class="text-xl text-gray-900 text-center">Create an account to start sharing your blog.</p>
      </div>
    </div>
  
    <div class="bg-white shadow-md rounded-lg p-8 max-w-md w-full">
      <form [formGroup]="registerForm" (ngSubmit)="onSubmit()">
        <!-- Username -->
        <div class="mb-4">
          <label for="username"
          [ngClass]="{
              'text-red-500': isFieldInvalid('username'),
              'text-gray-800': !isFieldInvalid('username')
            }"
          class="block text-gray-800 text-lg mb-2">Username</label>
          <input
            type="text"
            id="username"
            formControlName="username"
            [ngClass]="{
              'border-red-500 focus:ring-red-500': isFieldInvalid('username'),
              'border-gray-300 focus:ring-gray-700': !isFieldInvalid('username')
            }"
            class="w-full px-4 py-2 h-14 border rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-900"
            placeholder="Enter your username"
          >
          
          <div *ngIf="isFieldInvalid('username')" class="text-red-500 text-sm mt-1">
            {{ getFieldError('username') }}
          </div>
        </div>
        <!-- Email -->
        <div class="mb-4">
          <label for="email" 
          [ngClass]="{
              'text-red-500': isFieldInvalid('email'),
              'text-gray-800': !isFieldInvalid('email')
            }"
          class="block text-gray-800 text-lg mb-2">Email Address</label>
          <input
            type="email"
            id="email"
            formControlName="email"
            [ngClass]="{
              'border-red-500 focus:ring-red-500': isFieldInvalid('email'),
              'border-gray-300 focus:ring-gray-700': !isFieldInvalid('email')
            }"
            class="w-full px-4 py-2 h-14 border rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-900"
            placeholder="Enter your email address"
          >
          <div *ngIf="isFieldInvalid('email')" class="text-red-500 text-sm mt-1">
            {{ getFieldError('email') }}
          </div>
        </div>
        <!-- Password -->
        <div class="mb-4 relative">
          <label for="password"
            [ngClass]="{
              'text-red-500': isFieldInvalid('password'),
              'text-gray-800': !isFieldInvalid('password')
            }"
            class="block text-lg mb-2"
          >
            Password
          </label>
          <input
            [type]="showPassword ? 'text' : 'password'"
            id="password"
            formControlName="password"
            [ngClass]="{
              'border-red-500 focus:ring-red-500': isFieldInvalid('password'),
              'border-gray-300 focus:ring-gray-700': !isFieldInvalid('password')
            }"
            class="w-full px-4 py-2 h-14 text-lg border rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-900"
            placeholder="Enter your password"
          >
          <button type="button" class="absolute right-3 top-12 mt-1 text-gray-500 hover:text-gray-700" 
          (click)="togglePasswordVisibility()">
            <i class="fas" [ngClass]="showPassword ? 'fa-eye-slash' : 'fa-eye'"></i>
          </button>
          <div *ngIf="isFieldInvalid('password')" class="text-red-500 text-sm mt-1">
            {{ getFieldError('password') }}
          </div>
        </div>
        <!-- Confirm Password -->
        <div class="mb-4">
          <label for="confirm-password"
          [ngClass]="{
              'text-red-500': isFieldInvalid('confirmPassword'),
              'text-gray-800': !isFieldInvalid('confirmPassword')
            }"
          class="block text-gray-800 text-lg mb-2">Confirm Password</label>
          <input
            [type]="showPassword ? 'text' : 'password'"
            id="confirm-password"
            formControlName="confirmPassword"
            [ngClass]="{
              'border-red-500 focus:ring-red-500': isFieldInvalid('confirmPassword'),
              'border-gray-300 focus:ring-gray-700': !isFieldInvalid('confirmPassword')
            }"
            class="w-full px-4 py-2 h-14 text-lg border rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-900"
            placeholder="Confirm your password"
          >
          <div *ngIf="isFieldInvalid('confirmPassword')" class="text-red-500 text-sm mt-1">
            {{ getFieldError('confirmPassword') }}
          </div>
          <div *ngIf="registerForm.errors?.['passwordMismatch'] && registerForm.get('confirmPassword')?.touched && registerForm.get('password')?.touched" class="text-red-500 text-sm mt-1">
            Mật khẩu xác nhận không khớp.
          </div>
        </div>
        <!-- Terms -->
        <div class="mb-4">
          <input type="checkbox" id="terms" formControlName="terms" class="mr-2">
          <label for="terms" class="text-gray-800">
            I agree to Medium's
            <a href="#" class="text-blue-500 hover:underline">Terms of Service</a> and
            <a href="#" class="text-blue-500 hover:underline">Privacy Policy</a>
          </label>
          <div *ngIf="isFieldInvalid('terms')" class="text-red-500 text-sm mt-1">
            Bạn phải đồng ý với điều khoản dịch vụ.
          </div>
        </div>
        <!-- Updates -->
        <div class="mb-4">
          <input type="checkbox" id="updates" formControlName="updates" class="mr-2">
          <label for="updates" class="text-gray-800">
            Send me emails with Medium updates, stories from authors I follow, and more
          </label>
        </div>
        <div class="flex justify-center">
          <button type="submit" class="bg-gray-800 text-white px-4 py-2 h-14 w-full text-center font-medium text-lg rounded-full bg-gradient-to-br from-gray-600 to-gray-900 hover:from-gray-700 hover:to-gray-900">
            Register
          </button>
        </div>
      </form>
      <p class="text-center text-gray-700 mt-4">Already have an account?
        <a routerLink="/auth/login" class="text-blue-500 hover:underline">
          <button class="hover:underline">Sign In</button>
        </a>
      </p>
    </div>
  </div>
<router-outlet></router-outlet>