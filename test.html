<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Write Post | BlogMaster</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link href="https://cdn.quilljs.com/1.3.6/quill.snow.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdn.quilljs.com/1.3.6/quill.js"></script>
    <style>
        .ql-toolbar.ql-snow {
            border-top-left-radius: 0.5rem;
            border-top-right-radius: 0.5rem;
            border: 1px solid #e2e8f0;
        }
        .ql-container.ql-snow {
            border-bottom-left-radius: 0.5rem;
            border-bottom-right-radius: 0.5rem;
            border: 1px solid #e2e8f0;
            border-top: none;
            min-height: 300px;
            font-family: 'Inter', sans-serif;
        }
        #drop-area {
            transition: all 0.3s ease;
        }
        #drop-area.highlight {
            border-color: #3b82f6;
            background-color: #f0f7ff;
        }
        .tag {
            transition: all 0.2s ease;
        }
        .tag:hover {
            transform: translateY(-1px);
        }
        .tag-remove {
            transition: all 0.2s ease;
        }
        .tag-remove:hover {
            color: #ef4444;
            transform: scale(1.1);
        }
    </style>
</head>
<body class="bg-gray-50">
    <!-- Navigation Bar -->
    <nav class="bg-white shadow-sm py-4">
        <div class="container mx-auto px-4 flex justify-between items-center">
            <a href="#" class="text-2xl font-bold text-blue-600">BlogMaster</a>
            <div class="hidden md:flex space-x-8">
                <a href="#" class="text-gray-700 hover:text-blue-600">Home</a>
                <a href="#" class="text-gray-700 hover:text-blue-600">My Posts</a>
                <a href="#" class="text-gray-700 hover:text-blue-600">Analytics</a>
                <a href="#" class="text-gray-700 hover:text-blue-600">Settings</a>
            </div>
            <div class="flex items-center space-x-4">
                <button class="md:hidden text-gray-700">
                    <i class="fas fa-bars"></i>
                </button>
                <img src="https://randomuser.me/api/portraits/men/32.jpg" 
                     alt="User" 
                     class="w-10 h-10 rounded-full border-2 border-blue-200">
            </div>
        </div>
    </nav>
    
    <!-- Write Post Section -->
    <section class="container mx-auto px-4 py-8 max-w-4xl">
        <div class="flex items-center justify-between mb-6">
            <h1 class="text-3xl font-bold text-gray-800">Create New Post</h1>
            <div class="flex items-center space-x-2">
                <span class="text-sm text-gray-500">Auto-saved</span>
                <div class="w-3 h-3 rounded-full bg-green-500 animate-pulse"></div>
            </div>
        </div>
        
        <form class="bg-white shadow-lg rounded-xl overflow-hidden">
            <!-- Post Header -->
            <div class="p-6 border-b">
                <div class="flex items-center space-x-4">
                    <img src="https://randomuser.me/api/portraits/men/32.jpg" 
                         alt="Author" 
                         class="w-12 h-12 rounded-full border-2 border-blue-200">
                    <div>
                        <p class="font-medium">Nguyễn Văn A</p>
                        <p class="text-sm text-gray-500">Draft - Last edited just now</p>
                    </div>
                </div>
            </div>
            
            <!-- Form Content -->
            <div class="p-6 space-y-6">
                <!-- Title -->
                <div>
                    <label for="title" class="block text-lg font-semibold text-gray-800 mb-2">Post Title</label>
                    <input type="text" id="title" 
                           class="w-full px-4 py-3 text-xl border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent" 
                           placeholder="Catchy title that grabs attention...">
                    <p class="mt-1 text-sm text-gray-500">Tip: Keep it under 60 characters for best results</p>
                </div>
                
                <!-- Subtitle -->
                <div>
                    <label for="subtitle" class="block text-lg font-semibold text-gray-800 mb-2">Subtitle</label>
                    <input type="text" id="subtitle" 
                           class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent" 
                           placeholder="Brief summary of your post...">
                </div>
                
                <!-- Category & Tags -->
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <div>
                        <label for="category" class="block text-lg font-semibold text-gray-800 mb-2">Category</label>
                        <select id="category" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                            <option value="">Select a category</option>
                            <option value="technology">Technology</option>
                            <option value="business">Business</option>
                            <option value="lifestyle">Lifestyle</option>
                            <option value="education">Education</option>
                            <option value="health">Health & Wellness</option>
                        </select>
                    </div>
                    <div>
                        <label for="tags" class="block text-lg font-semibold text-gray-800 mb-2">Tags</label>
                        <div class="flex flex-wrap items-center gap-2 px-4 py-2 border border-gray-300 rounded-lg focus-within:ring-2 focus-within:ring-blue-500 focus-within:border-transparent">
                            <div id="tag-container" class="flex flex-wrap gap-2">
                                <!-- Tags will be added here -->
                            </div>
                            <input type="text" id="tags-input" 
                                   class="flex-1 min-w-[100px] outline-none" 
                                   placeholder="Add tags...">
                        </div>
                        <p class="mt-1 text-sm text-gray-500">Press Enter or comma to add tags (max 5)</p>
                    </div>
                </div>
                
                <!-- Featured Image -->
                <div>
                    <label class="block text-lg font-semibold text-gray-800 mb-2">Featured Image</label>
                    <div id="drop-area" class="border-dashed border-2 border-gray-300 rounded-lg p-8 flex flex-col items-center justify-center cursor-pointer hover:bg-gray-50 transition-colors">
                        <i class="fas fa-cloud-upload-alt text-blue-400 text-4xl mb-3"></i>
                        <p class="text-gray-700 font-medium mb-1">Drag & drop your image here</p>
                        <p class="text-gray-500 text-sm mb-4">or click to browse files</p>
                        <p class="text-gray-400 text-xs">Recommended size: 1200x630px (PNG, JPG up to 2MB)</p>
                        <input type="file" id="featuredImage" class="hidden" accept="image/*">
                    </div>
                    <div id="image-preview" class="hidden mt-4">
                        <div class="relative group">
                            <img id="preview-img" src="" alt="Preview" class="w-full h-64 object-cover rounded-lg">
                            <button id="remove-image" class="absolute top-2 right-2 bg-white p-2 rounded-full shadow-md text-red-500 hover:bg-red-50">
                                <i class="fas fa-times"></i>
                            </button>
                        </div>
                    </div>
                </div>
                
                <!-- Content Editor -->
                <div>
                    <label class="block text-lg font-semibold text-gray-800 mb-2">Post Content</label>
                    <div id="editor" class="rounded-lg"></div>
                    <div class="mt-3 flex items-center space-x-4">
                        <button type="button" class="text-blue-600 hover:text-blue-800 flex items-center">
                            <i class="fas fa-image mr-2"></i> Add Image
                        </button>
                        <button type="button" class="text-blue-600 hover:text-blue-800 flex items-center">
                            <i class="fas fa-video mr-2"></i> Add Video
                        </button>
                        <button type="button" class="text-blue-600 hover:text-blue-800 flex items-center">
                            <i class="fas fa-code mr-2"></i> Add Code Block
                        </button>
                    </div>
                </div>
                
                <!-- SEO Preview -->
                <div class="border-t pt-6 mt-6">
                    <h3 class="text-lg font-semibold text-gray-800 mb-4">SEO Preview</h3>
                    <div class="bg-gray-50 p-4 rounded-lg">
                        <div id="seo-preview" class="space-y-2">
                            <p class="text-blue-600 text-lg font-medium" id="seo-title">Your post title will appear here</p>
                            <p class="text-green-700 text-sm" id="seo-url">https://blogmaster.com/your-post-url</p>
                            <p class="text-gray-700" id="seo-description">Your meta description will be generated from your content</p>
                        </div>
                        <button type="button" class="mt-4 text-blue-600 hover:text-blue-800 flex items-center text-sm">
                            <i class="fas fa-edit mr-2"></i> Customize SEO settings
                        </button>
                    </div>
                </div>
            </div>
            
            <!-- Form Footer -->
            <div class="p-6 border-t bg-gray-50 flex justify-between flex-wrap gap-4">
                <div class="flex items-center space-x-4">
                    <button type="button" class="text-gray-700 hover:text-blue-600 flex items-center">
                        <i class="far fa-eye mr-2"></i> Preview
                    </button>
                    <button type="button" class="text-gray-700 hover:text-blue-600 flex items-center">
                        <i class="fas fa-cog mr-2"></i> Settings
                    </button>
                </div>
                <div class="flex space-x-4">
                    <button type="button" class="bg-gray-200 text-gray-800 px-6 py-2 rounded-lg hover:bg-gray-300 transition flex items-center">
                        <i class="far fa-save mr-2"></i> Save Draft
                    </button>
                    <button type="submit" class="bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition flex items-center">
                        <i class="fas fa-paper-plane mr-2"></i> Publish Now
                    </button>
                    <div class="relative group">
                        <button type="button" class="bg-blue-600 text-white px-3 py-2 rounded-lg hover:bg-blue-700 transition">
                            <i class="fas fa-chevron-down"></i>
                        </button>
                        <div class="absolute right-0 mt-1 w-48 bg-white rounded-md shadow-lg py-1 z-10 hidden group-hover:block">
                            <a href="#" class="block px-4 py-2 text-gray-800 hover:bg-gray-100">Schedule for later</a>
                            <a href="#" class="block px-4 py-2 text-gray-800 hover:bg-gray-100">Submit for review</a>
                        </div>
                    </div>
                </div>
            </div>
        </form>
    </section>

    <!-- Footer -->
    <footer class="bg-gray-800 text-white py-8 mt-12">
        <div class="container mx-auto px-4">
            <div class="flex flex-col md:flex-row justify-between items-center">
                <div class="mb-4 md:mb-0">
                    <a href="#" class="text-2xl font-bold text-white">BlogMaster</a>
                    <p class="text-gray-400 mt-1">The platform for professional bloggers</p>
                </div>
                <div class="flex space-x-6">
                    <a href="#" class="text-gray-400 hover:text-white"><i class="fab fa-facebook-f"></i></a>
                    <a href="#" class="text-gray-400 hover:text-white"><i class="fab fa-twitter"></i></a>
                    <a href="#" class="text-gray-400 hover:text-white"><i class="fab fa-linkedin-in"></i></a>
                    <a href="#" class="text-gray-400 hover:text-white"><i class="fab fa-github"></i></a>
                </div>
            </div>
            <div class="border-t border-gray-700 mt-8 pt-8 text-center text-gray-400 text-sm">
                <p>© 2025 BlogMaster. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Initialize Quill editor
            const quill = new Quill('#editor', {
                theme: 'snow',
                modules: {
                    toolbar: [
                        [{ 'header': [1, 2, 3, false] }],
                        ['bold', 'italic', 'underline', 'strike'],
                        [{ 'color': [] }, { 'background': [] }],
                        [{ 'list': 'ordered'}, { 'list': 'bullet' }],
                        ['link', 'image', 'video'],
                        ['clean']
                    ]
                },
                placeholder: 'Write your amazing content here...'
            });

            // Drag and drop for featured image
            const dropArea = document.getElementById('drop-area');
            const fileInput = document.getElementById('featuredImage');
            const imagePreview = document.getElementById('image-preview');
            const previewImg = document.getElementById('preview-img');
            const removeImageBtn = document.getElementById('remove-image');

            ['dragenter', 'dragover', 'dragleave', 'drop'].forEach(eventName => {
                dropArea.addEventListener(eventName, preventDefaults, false);
            });

            function preventDefaults(e) {
                e.preventDefault();
                e.stopPropagation();
            }

            ['dragenter', 'dragover'].forEach(eventName => {
                dropArea.addEventListener(eventName, highlight, false);
            });

            ['dragleave', 'drop'].forEach(eventName => {
                dropArea.addEventListener(eventName, unhighlight, false);
            });

            function highlight() {
                dropArea.classList.add('highlight');
            }

            function unhighlight() {
                dropArea.classList.remove('highlight');
            }

            dropArea.addEventListener('drop', handleDrop, false);
            dropArea.addEventListener('click', () => fileInput.click());

            fileInput.addEventListener('change', handleFiles);

            function handleDrop(e) {
                const dt = e.dataTransfer;
                const files = dt.files;
                handleFiles({ target: { files } });
            }

            function handleFiles(e) {
                const files = e.target.files;
                if (files.length) {
                    const file = files[0];
                    if (file.type.startsWith('image/')) {
                        const reader = new FileReader();
                        reader.onload = function(e) {
                            previewImg.src = e.target.result;
                            imagePreview.classList.remove('hidden');
                            dropArea.classList.add('hidden');
                        };
                        reader.readAsDataURL(file);
                    } else {
                        alert('Please select an image file (PNG, JPG)');
                    }
                }
            }

            removeImageBtn.addEventListener('click', function() {
                imagePreview.classList.add('hidden');
                dropArea.classList.remove('hidden');
                fileInput.value = '';
            });

            // Tags functionality
            const tagInput = document.getElementById('tags-input');
            const tagContainer = document.getElementById('tag-container');
            const maxTags = 5;
            let tags = [];

            tagInput.addEventListener('keydown', function(e) {
                if ((e.key === 'Enter' || e.key === ',') && tagInput.value.trim() !== '' && tags.length < maxTags) {
                    e.preventDefault();
                    const tagText = tagInput.value.trim().replace(',', '');
                    if (!tags.includes(tagText)) {
                        tags.push(tagText);
                        renderTags();
                    }
                    tagInput.value = '';
                }
            });

            function renderTags() {
                tagContainer.innerHTML = '';
                tags.forEach((tag, index) => {
                    const tagElement = document.createElement('div');
                    tagElement.className = 'tag bg-blue-100 text-blue-800 px-3 py-1 rounded-full flex items-center';
                    tagElement.innerHTML = `
                        ${tag}
                        <span class="tag-remove ml-2 cursor-pointer" data-index="${index}">
                            <i class="fas fa-times text-xs"></i>
                        </span>
                    `;
                    tagContainer.appendChild(tagElement);
                });
            }

            tagContainer.addEventListener('click', function(e) {
                if (e.target.closest('.tag-remove')) {
                    const index = e.target.closest('.tag-remove').dataset.index;
                    tags.splice(index, 1);
                    renderTags();
                }
            });

            // SEO Preview update
            const titleInput = document.getElementById('title');
            const seoTitle = document.getElementById('seo-title');
            const seoDescription = document.getElementById('seo-description');

            titleInput.addEventListener('input', function() {
                seoTitle.textContent = titleInput.value || 'Your post title will appear here';
            });

            quill.on('text-change', function() {
                const content = quill.getText().substring(0, 160);
                seoDescription.textContent = content || 'Your meta description will be generated from your content';
            });

            // Form submission
            const form = document.querySelector('form');
            form.addEventListener('submit', function(e) {
                e.preventDefault();
                // Here you would normally send the form data to the server
                alert('Post published successfully!');
                // Reset form
                form.reset();
                tags = [];
                renderTags();
                quill.setContents([]);
                imagePreview.classList.add('hidden');
                dropArea.classList.remove('hidden');
            });
        });
    </script>
</body>
</html>